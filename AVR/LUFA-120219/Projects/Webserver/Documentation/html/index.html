<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA Library - uIP Powered Webserver Project: uIP Powered Webserver Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LUFA Library - uIP Powered Webserver Project&#160;<span id="projectnumber">0.0.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('index.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>uIP Powered Webserver Project </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="Sec_Compat"></a>
Project Compatibility:</h2>
<p>The following list indicates what microcontrollers are compatible with this project.</p>
<ul>
<li>Series 7 USB AVRs (AT90USBxxx7)</li>
</ul>
<h2><a class="anchor" id="Sec_Info"></a>
USB Information:</h2>
<p>The following table gives a rundown of the USB utilization of this project.</p>
<table class="doxtable">
<tr>
<td><b>USB Mode:</b> </td><td>Dual Mode Host/Device  </td></tr>
<tr>
<td><b>USB Class:</b> </td><td>Communications Device Class (CDC) <br/>
 Mass Storage Device  </td></tr>
<tr>
<td><b>USB Subclass:</b> </td><td>Remote NDIS (Microsoft Proprietary CDC Class Networking Standard) <br/>
 Bulk-Only Transport  </td></tr>
<tr>
<td><b>Relevant Standards:</b> </td><td>Microsoft RNDIS Specification <br/>
 USBIF Mass Storage Standard <br/>
 USB Bulk-Only Transport Standard <br/>
 SCSI Primary Commands Specification <br/>
 SCSI Block Commands Specification  </td></tr>
<tr>
<td><b>Usable Speeds:</b> </td><td>Full Speed Mode  </td></tr>
</table>
<h2><a class="anchor" id="Sec_Description"></a>
Project Description:</h2>
<p>Simple HTTP webserver project. This project combines the LUFA library with the uIP TCP/IP full network stack and FatFS library to create a RNDIS host capable of serving out HTTP web pages to multiple hosts simultaneously. This project demonstrates how the libraries can be combined into a robust network enabled application, with the addition of a RNDIS network device.</p>
<p>To use this project, plug the USB AVR into a computer, so that it enumerates as a standard Mass Storage and RNDIS composite device. Load HTML files onto the disk, so that they can be served out to clients -- the default file to serve should be called <em>index.htm</em>. Filenames must be in 8.3 format for them to be retrieved correctly by the webserver, and the total requested file path must be equal to or less than the maximum URI length (</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="main.html#Sec_Options">Project Options</a>). Supply the included INF file when requested on Windows machines to enable the RNDIS interface, and allow the files to be viewed on a standard web-browser using the IP address 10.0.0.2.</dd></dl>
<p>When attached to a RNDIS class device, such as a USB (desktop) modem, the system will enumerate the device, set the appropriate parameters needed for connectivity and begin listening for new HTTP connections on port 80 and TELNET connections on port 23. The device IP, netmask and default gateway IP must be set to values appropriate for the RNDIS device being used for this project to work if the DHCP client is disabled (see <a class="el" href="main.html#Sec_Options">Project Options</a>) - otherwise, the device will query the network's DHCP server for these parameters automatically.</p>
<p>When properly configured, the webserver can be accessed from any HTTP web browser by typing in the device's statically or dynamically allocated IP address. The TELNET client can be accessed via any network socket app by connecting to the device on port 23 on the device's statically or dynamically allocated IP address.</p>
<h2><a class="anchor" id="Sec_Options"></a>
Project Options</h2>
<p>The following defines can be found in this project, which can control the project behaviour when defined, or changed in value.</p>
<table class="doxtable">
<tr>
<td><b>Define Name:</b> </td><td><b>Location:</b> </td><td><b>Description:</b>  </td></tr>
<tr>
<td>ENABLE_TELNET_SERVER </td><td>Makefile LUFA_OPTS </td><td>When defined, this enables the TELNET server in addition to the HTTP webserver, which listens for incoming connections and processes user commands.  </td></tr>
<tr>
<td>ENABLE_DHCP_CLIENT </td><td>Makefile LUFA_OPTS </td><td>When defined, this enables the DHCP client for dynamic IP allocation of the network settings from a DHCP server.  </td></tr>
<tr>
<td>ENABLE_DHCP_SERVER </td><td>Makefile LUFA_OPTS </td><td>When defined, this enables the DHCP server for dynamic IP allocation of the network settings to a DHCP client.  </td></tr>
<tr>
<td>DEVICE_IP_ADDRESS </td><td><a class="el" href="a00021.html">Lib/uIPManagement.h</a> </td><td>IP address that the webserver should use when connected to a RNDIS device (when ENABLE_DHCP_CLIENT is not defined).  </td></tr>
<tr>
<td>DEVICE_NETMASK </td><td><a class="el" href="a00021.html">Lib/uIPManagement.h</a> </td><td>Netmask that the webserver should use when connected to a RNDIS device (when ENABLE_DHCP_CLIENT is not defined).  </td></tr>
<tr>
<td>DEVICE_GATEWAY </td><td><a class="el" href="a00021.html">Lib/uIPManagement.h</a> </td><td>Default routing gateway that the webserver should use when connected to a RNDIS device (when ENABLE_DHCP_CLIENT is not defined).  </td></tr>
<tr>
<td>MAX_URI_LENGTH </td><td>Makefile LUFA_OPTS </td><td>Maximum length of a URI for the Webserver. This is the maximum file path, including subdirectories and separators.  </td></tr>
</table>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
