<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA Library - RNDIS Ethernet Demo: Lib/TCP.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LUFA Library - RNDIS Ethernet Demo&#160;<span id="projectnumber">0.0.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00031.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>TCP.h File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="a00023.html">EthernetProtocols.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00022.html">Ethernet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00029.html">ProtocolDecoders.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html">TCP_ConnectionBuffer_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00009.html">TCP_ConnectionInfo_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00010.html">TCP_ConnectionState_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00012.html">TCP_PortState_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html">TCP_Header_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#afa840db88ed23c01bb1c9af827522d17">MAX_OPEN_TCP_PORTS</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a8e0985f4d6f18b8835ec23373252ef1e">MAX_TCP_CONNECTIONS</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a01dac0d554ac51ae8e96c00baa5b21be">TCP_WINDOW_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ac55372d514f28b54692f268a1c898da3">TCP_PORT_HTTP</a>&#160;&#160;&#160;SwapEndian_16(80)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a943d7cedab360045f770d75a8c2fcef4">TCP_PACKETDIR_IN</a>&#160;&#160;&#160;false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ae12611c2ee7d1f7691246994e02ee16b">TCP_PACKETDIR_OUT</a>&#160;&#160;&#160;true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#add2c698ee52bff457fd624ce7bab7887">TCP_FLAG_CWR</a>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a30e68ec07af963060bba84621d53822a">TCP_FLAG_ECE</a>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a2e1550a1eca72c5f13947ae0b02acd49">TCP_FLAG_URG</a>&#160;&#160;&#160;(1 &lt;&lt; 5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a3ac41ab81ec52f7c79221649928b2cc0">TCP_FLAG_ACK</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a3f23c5e9801e4789b8ad0dbc8fece3e1">TCP_FLAG_PSH</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ae12204a712e30fed939e38f1c59f21dd">TCP_FLAG_RST</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#aa4f4d26cfe472c367281e9256e184497">TCP_FLAG_SYN</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a0a248319562c087b39dfb22a8f620d48">TCP_FLAG_FIN</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#abf444b1369b609a0bb153a680e4b5ae4">TCP_APP_HAS_RECEIVED_PACKET</a>(Buffer)&#160;&#160;&#160;(Buffer-&gt;Ready &amp;&amp; (Buffer-&gt;Direction == TCP_PACKETDIR_IN))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a44198b74d9db58cdbf805f5a5af1108c">TCP_APP_HAVE_CAPTURED_BUFFER</a>(Buffer)&#160;&#160;&#160;(!(Buffer-&gt;Ready) &amp;&amp; Buffer-&gt;InUse &amp;&amp; (Buffer-&gt;Direction == TCP_PACKETDIR_OUT))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a32e47f369021de742797802190129ca1">TCP_APP_CAN_CAPTURE_BUFFER</a>(Buffer)&#160;&#160;&#160;Buffer-&gt;InUse</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#acc88784c8ad2d8787acbccebd470fd00">TCP_APP_CAPTURE_BUFFER</a>(Buffer)&#160;&#160;&#160;MACROS{ Buffer-&gt;Direction = TCP_PACKETDIR_OUT; Buffer-&gt;InUse = true; }MACROE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ac2bf58a312efd1c1049d3029ba9690fa">TCP_APP_RELEASE_BUFFER</a>(Buffer)&#160;&#160;&#160;MACROS{ Buffer-&gt;InUse = false; }MACROE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a6005efce030ddbb0a56e4903b1ba0e96">TCP_APP_SEND_BUFFER</a>(Buffer, Len)&#160;&#160;&#160;MACROS{ Buffer-&gt;Direction = TCP_PACKETDIR_OUT; Buffer-&gt;Length = Len; Buffer-&gt;Ready = true; }MACROE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ab397a523ca93bdada30b6d6eba44e719">TCP_APP_CLEAR_BUFFER</a>(Buffer)&#160;&#160;&#160;MACROS{ Buffer-&gt;Ready = false; Buffer-&gt;Length = 0; }MACROE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a87956da8a749b24f20a82931f0fda514">TCP_APP_CLOSECONNECTION</a>(Connection)&#160;&#160;&#160;MACROS{ Connection-&gt;State = TCP_Connection_Closing;  }MACROE</td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a> { <br/>
&#160;&#160;<a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6a24a487cd6d201536f2ec90c7e41c4e50">TCP_Port_Closed</a> =  0, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6a903644137b69e8e4dd3882437c8799c6">TCP_Port_Open</a> =  1
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a> { <br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea0c93db58d1cbde8b7b5f4d9ce85c9080">TCP_Connection_Listen</a> =  0, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea39b5d9a4d12684d462e84681988d3156">TCP_Connection_SYNSent</a> =  1, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea231bd56aa1421ddc58dff4b6e7c64386">TCP_Connection_SYNReceived</a> =  2, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea6d739c7c6de43546c57641d04b3e41e4">TCP_Connection_Established</a> =  3, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1feafa800e63bfab3cc6dbc507856cb49c8e">TCP_Connection_FINWait1</a> =  4, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea132940ace84c68cf373f5741aae8ae47">TCP_Connection_FINWait2</a> =  5, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1feaedf04771d48fd80f7ab94e23524da022">TCP_Connection_CloseWait</a> =  6, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea59d7a094ce4107e7e0c04cae76ef98c3">TCP_Connection_Closing</a> =  7, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea16d2b3f5f66754deb94c0e6989d56b18">TCP_Connection_LastACK</a> =  8, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fea27a4240140ab092b2b4aa930cd66510f">TCP_Connection_TimeWait</a> =  9, 
<br/>
&#160;&#160;<a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1feaadeb281eae18045d9614f880259eaded">TCP_Connection_Closed</a> =  10
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a11249837b77c0f03863a1c375aa9ada6">TCP_TCPTask</a> (USB_ClassInfo_RNDIS_Device_t *const RNDISInterfaceInfo, <a class="el" href="a00004.html">Ethernet_Frame_Info_t</a> *const <a class="el" href="a00036.html#aef9503cade38a6b550a948e5c4cc8d2b">FrameOUT</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a3a02a29f93af673139608232298ef119">TCP_Init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a1707fcc52e95e8435a772bef4493c1ac">TCP_SetPortState</a> (const uint16_t Port, const uint8_t State, void(*Handler)(<a class="el" href="a00010.html">TCP_ConnectionState_t</a> *, <a class="el" href="a00008.html">TCP_ConnectionBuffer_t</a> *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a21124735556432c7a437998aa748cd67">TCP_GetPortState</a> (const uint16_t Port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#af59f40c0018701454c72c0edc61f87a1">TCP_SetConnectionState</a> (const uint16_t Port, const <a class="el" href="a00006.html">IP_Address_t</a> RemoteAddress, const uint16_t RemotePort, const uint8_t State)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a899d0564f1ef7b15f41b75176ddade0c">TCP_GetConnectionState</a> (const uint16_t Port, const <a class="el" href="a00006.html">IP_Address_t</a> RemoteAddress, const uint16_t RemotePort)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00009.html">TCP_ConnectionInfo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#a8a407edd2889d82fc2617a3b1884e584">TCP_GetConnectionInfo</a> (const uint16_t Port, const <a class="el" href="a00006.html">IP_Address_t</a> RemoteAddress, const uint16_t RemotePort)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00031.html#aa2bf6261c8743fd64cb4e8f3f59498ee">TCP_ProcessTCPPacket</a> (void *IPHeaderInStart, void *TCPHeaderInStart, void *TCPHeaderOutStart)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="a00030.html">TCP.c</a>. </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="afa840db88ed23c01bb1c9af827522d17"></a><!-- doxytag: member="TCP.h::MAX_OPEN_TCP_PORTS" ref="afa840db88ed23c01bb1c9af827522d17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_OPEN_TCP_PORTS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum number of TCP ports which can be open at the one time. </p>

</div>
</div>
<a class="anchor" id="a8e0985f4d6f18b8835ec23373252ef1e"></a><!-- doxytag: member="TCP.h::MAX_TCP_CONNECTIONS" ref="a8e0985f4d6f18b8835ec23373252ef1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TCP_CONNECTIONS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum number of TCP connections which can be sustained at the one time. </p>

</div>
</div>
<a class="anchor" id="a32e47f369021de742797802190129ca1"></a><!-- doxytag: member="TCP.h::TCP_APP_CAN_CAPTURE_BUFFER" ref="a32e47f369021de742797802190129ca1" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_CAN_CAPTURE_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;Buffer-&gt;InUse</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Indicates if the application can lock the buffer for multiple continued device-to-host transmissions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the buffer may be captured by the application for device-to-host transmissions, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="acc88784c8ad2d8787acbccebd470fd00"></a><!-- doxytag: member="TCP.h::TCP_APP_CAPTURE_BUFFER" ref="acc88784c8ad2d8787acbccebd470fd00" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_CAPTURE_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;MACROS{ Buffer-&gt;Direction = TCP_PACKETDIR_OUT; Buffer-&gt;InUse = true; }MACROE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Captures the application buffer, locking it for device-to-host transmissions only. This should be performed when the application needs to transmit several packets worth of data in succession with no interruptions from the host.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The application must check that the buffer can be locked first using <a class="el" href="a00031.html#a32e47f369021de742797802190129ca1">TCP_APP_CAN_CAPTURE_BUFFER()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab397a523ca93bdada30b6d6eba44e719"></a><!-- doxytag: member="TCP.h::TCP_APP_CLEAR_BUFFER" ref="ab397a523ca93bdada30b6d6eba44e719" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_CLEAR_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;MACROS{ Buffer-&gt;Ready = false; Buffer-&gt;Length = 0; }MACROE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Clears the application buffer, ready for a packet to be written to it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to clear </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a87956da8a749b24f20a82931f0fda514"></a><!-- doxytag: member="TCP.h::TCP_APP_CLOSECONNECTION" ref="a87956da8a749b24f20a82931f0fda514" args="(Connection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_CLOSECONNECTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Connection</td><td>)</td>
          <td>&#160;&#160;&#160;MACROS{ Connection-&gt;State = TCP_Connection_Closing;  }MACROE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Closes an open connection to a host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Connection</td><td>Open TCP connection to close </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf444b1369b609a0bb153a680e4b5ae4"></a><!-- doxytag: member="TCP.h::TCP_APP_HAS_RECEIVED_PACKET" ref="abf444b1369b609a0bb153a680e4b5ae4" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_HAS_RECEIVED_PACKET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;(Buffer-&gt;Ready &amp;&amp; (Buffer-&gt;Direction == TCP_PACKETDIR_IN))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Determines if the given application buffer contains a packet received from the host</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the buffer contains a packet from the host, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a44198b74d9db58cdbf805f5a5af1108c"></a><!-- doxytag: member="TCP.h::TCP_APP_HAVE_CAPTURED_BUFFER" ref="a44198b74d9db58cdbf805f5a5af1108c" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_HAVE_CAPTURED_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;(!(Buffer-&gt;Ready) &amp;&amp; Buffer-&gt;InUse &amp;&amp; (Buffer-&gt;Direction == TCP_PACKETDIR_OUT))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Indicates if the application buffer is currently locked by the application for device-to-host transfers.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the buffer has been captured by the application for device-to-host transmissions, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ac2bf58a312efd1c1049d3029ba9690fa"></a><!-- doxytag: member="TCP.h::TCP_APP_RELEASE_BUFFER" ref="ac2bf58a312efd1c1049d3029ba9690fa" args="(Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_RELEASE_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer</td><td>)</td>
          <td>&#160;&#160;&#160;MACROS{ Buffer-&gt;InUse = false; }MACROE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Releases a captured application buffer, allowing for host-to-device packets to be received.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6005efce030ddbb0a56e4903b1ba0e96"></a><!-- doxytag: member="TCP.h::TCP_APP_SEND_BUFFER" ref="a6005efce030ddbb0a56e4903b1ba0e96" args="(Buffer, Len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_APP_SEND_BUFFER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Buffer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;MACROS{ Buffer-&gt;Direction = TCP_PACKETDIR_OUT; Buffer-&gt;Length = Len; Buffer-&gt;Ready = true; }MACROE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Application macro: Sends the contents of the given application buffer to the host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Application buffer to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Len</td><td>Length of data contained in the buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3ac41ab81ec52f7c79221649928b2cc0"></a><!-- doxytag: member="TCP.h::TCP_FLAG_ACK" ref="a3ac41ab81ec52f7c79221649928b2cc0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_ACK&#160;&#160;&#160;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data Acknowledge TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="add2c698ee52bff457fd624ce7bab7887"></a><!-- doxytag: member="TCP.h::TCP_FLAG_CWR" ref="add2c698ee52bff457fd624ce7bab7887" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_CWR&#160;&#160;&#160;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Congestion Window Reduced TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="a30e68ec07af963060bba84621d53822a"></a><!-- doxytag: member="TCP.h::TCP_FLAG_ECE" ref="a30e68ec07af963060bba84621d53822a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_ECE&#160;&#160;&#160;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Explicit Congestion Notification TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="a0a248319562c087b39dfb22a8f620d48"></a><!-- doxytag: member="TCP.h::TCP_FLAG_FIN" ref="a0a248319562c087b39dfb22a8f620d48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_FIN&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connection Finalize TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="a3f23c5e9801e4789b8ad0dbc8fece3e1"></a><!-- doxytag: member="TCP.h::TCP_FLAG_PSH" ref="a3f23c5e9801e4789b8ad0dbc8fece3e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_PSH&#160;&#160;&#160;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data Push TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="ae12204a712e30fed939e38f1c59f21dd"></a><!-- doxytag: member="TCP.h::TCP_FLAG_RST" ref="ae12204a712e30fed939e38f1c59f21dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_RST&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="aa4f4d26cfe472c367281e9256e184497"></a><!-- doxytag: member="TCP.h::TCP_FLAG_SYN" ref="aa4f4d26cfe472c367281e9256e184497" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_SYN&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Synchronize TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="a2e1550a1eca72c5f13947ae0b02acd49"></a><!-- doxytag: member="TCP.h::TCP_FLAG_URG" ref="a2e1550a1eca72c5f13947ae0b02acd49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_FLAG_URG&#160;&#160;&#160;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Urgent TCP flag mask. </p>

</div>
</div>
<a class="anchor" id="a943d7cedab360045f770d75a8c2fcef4"></a><!-- doxytag: member="TCP.h::TCP_PACKETDIR_IN" ref="a943d7cedab360045f770d75a8c2fcef4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_PACKETDIR_IN&#160;&#160;&#160;false</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data direction indicator for a TCP application buffer, indicating data from host-to-device. </p>

</div>
</div>
<a class="anchor" id="ae12611c2ee7d1f7691246994e02ee16b"></a><!-- doxytag: member="TCP.h::TCP_PACKETDIR_OUT" ref="ae12611c2ee7d1f7691246994e02ee16b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_PACKETDIR_OUT&#160;&#160;&#160;true</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data direction indicator for a TCP application buffer, indicating data from device-to-host. </p>

</div>
</div>
<a class="anchor" id="ac55372d514f28b54692f268a1c898da3"></a><!-- doxytag: member="TCP.h::TCP_PORT_HTTP" ref="ac55372d514f28b54692f268a1c898da3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_PORT_HTTP&#160;&#160;&#160;SwapEndian_16(80)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Port number for HTTP transmissions. </p>

</div>
</div>
<a class="anchor" id="a01dac0d554ac51ae8e96c00baa5b21be"></a><!-- doxytag: member="TCP.h::TCP_WINDOW_SIZE" ref="a01dac0d554ac51ae8e96c00baa5b21be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_WINDOW_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>TCP window size, giving the maximum number of bytes which can be buffered at the one time. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fe"></a><!-- doxytag: member="TCP.h::TCP_ConnectionStates_t" ref="ada8f5fbdd98f2bcd9db12a180365e1fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum for possible TCP connection states. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea0c93db58d1cbde8b7b5f4d9ce85c9080"></a><!-- doxytag: member="TCP_Connection_Listen" ref="ada8f5fbdd98f2bcd9db12a180365e1fea0c93db58d1cbde8b7b5f4d9ce85c9080" args="" -->TCP_Connection_Listen</em>&nbsp;</td><td>
<p>Listening for a connection from a host </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea39b5d9a4d12684d462e84681988d3156"></a><!-- doxytag: member="TCP_Connection_SYNSent" ref="ada8f5fbdd98f2bcd9db12a180365e1fea39b5d9a4d12684d462e84681988d3156" args="" -->TCP_Connection_SYNSent</em>&nbsp;</td><td>
<p>Unused </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea231bd56aa1421ddc58dff4b6e7c64386"></a><!-- doxytag: member="TCP_Connection_SYNReceived" ref="ada8f5fbdd98f2bcd9db12a180365e1fea231bd56aa1421ddc58dff4b6e7c64386" args="" -->TCP_Connection_SYNReceived</em>&nbsp;</td><td>
<p>SYN received, waiting for ACK </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea6d739c7c6de43546c57641d04b3e41e4"></a><!-- doxytag: member="TCP_Connection_Established" ref="ada8f5fbdd98f2bcd9db12a180365e1fea6d739c7c6de43546c57641d04b3e41e4" args="" -->TCP_Connection_Established</em>&nbsp;</td><td>
<p>Connection established in both directions </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1feafa800e63bfab3cc6dbc507856cb49c8e"></a><!-- doxytag: member="TCP_Connection_FINWait1" ref="ada8f5fbdd98f2bcd9db12a180365e1feafa800e63bfab3cc6dbc507856cb49c8e" args="" -->TCP_Connection_FINWait1</em>&nbsp;</td><td>
<p>Closing, waiting for ACK </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea132940ace84c68cf373f5741aae8ae47"></a><!-- doxytag: member="TCP_Connection_FINWait2" ref="ada8f5fbdd98f2bcd9db12a180365e1fea132940ace84c68cf373f5741aae8ae47" args="" -->TCP_Connection_FINWait2</em>&nbsp;</td><td>
<p>Closing, waiting for FIN ACK </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1feaedf04771d48fd80f7ab94e23524da022"></a><!-- doxytag: member="TCP_Connection_CloseWait" ref="ada8f5fbdd98f2bcd9db12a180365e1feaedf04771d48fd80f7ab94e23524da022" args="" -->TCP_Connection_CloseWait</em>&nbsp;</td><td>
<p>Closing, waiting for ACK </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea59d7a094ce4107e7e0c04cae76ef98c3"></a><!-- doxytag: member="TCP_Connection_Closing" ref="ada8f5fbdd98f2bcd9db12a180365e1fea59d7a094ce4107e7e0c04cae76ef98c3" args="" -->TCP_Connection_Closing</em>&nbsp;</td><td>
<p>Unused </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea16d2b3f5f66754deb94c0e6989d56b18"></a><!-- doxytag: member="TCP_Connection_LastACK" ref="ada8f5fbdd98f2bcd9db12a180365e1fea16d2b3f5f66754deb94c0e6989d56b18" args="" -->TCP_Connection_LastACK</em>&nbsp;</td><td>
<p>Unused </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1fea27a4240140ab092b2b4aa930cd66510f"></a><!-- doxytag: member="TCP_Connection_TimeWait" ref="ada8f5fbdd98f2bcd9db12a180365e1fea27a4240140ab092b2b4aa930cd66510f" args="" -->TCP_Connection_TimeWait</em>&nbsp;</td><td>
<p>Unused </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ada8f5fbdd98f2bcd9db12a180365e1feaadeb281eae18045d9614f880259eaded"></a><!-- doxytag: member="TCP_Connection_Closed" ref="ada8f5fbdd98f2bcd9db12a180365e1feaadeb281eae18045d9614f880259eaded" args="" -->TCP_Connection_Closed</em>&nbsp;</td><td>
<p>Connection closed in both directions </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a25e27db92241172c3518ef8a237a38f6"></a><!-- doxytag: member="TCP.h::TCP_PortStates_t" ref="a25e27db92241172c3518ef8a237a38f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enum for possible TCP port states. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a25e27db92241172c3518ef8a237a38f6a24a487cd6d201536f2ec90c7e41c4e50"></a><!-- doxytag: member="TCP_Port_Closed" ref="a25e27db92241172c3518ef8a237a38f6a24a487cd6d201536f2ec90c7e41c4e50" args="" -->TCP_Port_Closed</em>&nbsp;</td><td>
<p>TCP port closed, no connections to a host may be made on this port. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a25e27db92241172c3518ef8a237a38f6a903644137b69e8e4dd3882437c8799c6"></a><!-- doxytag: member="TCP_Port_Open" ref="a25e27db92241172c3518ef8a237a38f6a903644137b69e8e4dd3882437c8799c6" args="" -->TCP_Port_Open</em>&nbsp;</td><td>
<p>TCP port open, connections to a host may be made on this port. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8a407edd2889d82fc2617a3b1884e584"></a><!-- doxytag: member="TCP.h::TCP_GetConnectionInfo" ref="a8a407edd2889d82fc2617a3b1884e584" args="(const uint16_t Port, const IP_Address_t RemoteAddress, const uint16_t RemotePort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00009.html">TCP_ConnectionInfo_t</a>* TCP_GetConnectionInfo </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00006.html">IP_Address_t</a>&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the connection info structure of a given connection to a host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port on the device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>Remote TCP port of the connected host, specified in big endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ConnectionInfo structure of the connection if found, NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a899d0564f1ef7b15f41b75176ddade0c"></a><!-- doxytag: member="TCP.h::TCP_GetConnectionState" ref="a899d0564f1ef7b15f41b75176ddade0c" args="(const uint16_t Port, const IP_Address_t RemoteAddress, const uint16_t RemotePort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TCP_GetConnectionState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00006.html">IP_Address_t</a>&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the current state of a given TCP connection to a host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port on the device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected host </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>Remote TCP port of the connected host, specified in big endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A value from the <a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a> enum </dd></dl>

</div>
</div>
<a class="anchor" id="a21124735556432c7a437998aa748cd67"></a><!-- doxytag: member="TCP.h::TCP_GetPortState" ref="a21124735556432c7a437998aa748cd67" args="(const uint16_t Port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t TCP_GetPortState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the current state of a given TCP port, specified in big endian.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port whose state is to be retrieved, given in big-endian</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A value from the <a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a> enum </dd></dl>

</div>
</div>
<a class="anchor" id="a3a02a29f93af673139608232298ef119"></a><!-- doxytag: member="TCP.h::TCP_Init" ref="a3a02a29f93af673139608232298ef119" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCP_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the TCP protocol handler, clearing the port and connection state tables. This must be called before TCP packets are processed. </p>

</div>
</div>
<a class="anchor" id="aa2bf6261c8743fd64cb4e8f3f59498ee"></a><!-- doxytag: member="TCP.h::TCP_ProcessTCPPacket" ref="aa2bf6261c8743fd64cb4e8f3f59498ee" args="(void *IPHeaderInStart, void *TCPHeaderInStart, void *TCPHeaderOutStart)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t TCP_ProcessTCPPacket </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>IPHeaderInStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>TCPHeaderInStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>TCPHeaderOutStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes a TCP packet inside an Ethernet frame, and writes the appropriate response to the output Ethernet frame if one is created by a application handler.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">IPHeaderInStart</td><td>Pointer to the start of the incoming packet's IP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TCPHeaderInStart</td><td>Pointer to the start of the incoming packet's TCP header </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TCPHeaderOutStart</td><td>Pointer to the start of the outgoing packet's TCP header</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written to the out Ethernet frame if any, NO_RESPONSE if no response was generated, NO_PROCESS if the packet processing was deferred until the next Ethernet packet handler iteration </dd></dl>

</div>
</div>
<a class="anchor" id="af59f40c0018701454c72c0edc61f87a1"></a><!-- doxytag: member="TCP.h::TCP_SetConnectionState" ref="af59f40c0018701454c72c0edc61f87a1" args="(const uint16_t Port, const IP_Address_t RemoteAddress, const uint16_t RemotePort, const uint8_t State)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TCP_SetConnectionState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00006.html">IP_Address_t</a>&#160;</td>
          <td class="paramname"><em>RemoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>RemotePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>State</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the connection state of the given port, remote address and remote port to the given TCP connection state. If the connection exists in the connection state table it is updated, otherwise it is created if possible.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>TCP port of the connection on the device, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemoteAddress</td><td>Remote protocol IP address of the connected device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RemotePort</td><td>TCP port of the remote device in the connection, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">State</td><td>TCP connection state, a value from the <a class="el" href="a00031.html#ada8f5fbdd98f2bcd9db12a180365e1fe">TCP_ConnectionStates_t</a> enum</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the connection was updated or created, false otherwise (no more space in the connection state table) </dd></dl>

</div>
</div>
<a class="anchor" id="a1707fcc52e95e8435a772bef4493c1ac"></a><!-- doxytag: member="TCP.h::TCP_SetPortState" ref="a1707fcc52e95e8435a772bef4493c1ac" args="(const uint16_t Port, const uint8_t State, void(*Handler)(TCP_ConnectionState_t *, TCP_ConnectionBuffer_t *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TCP_SetPortState </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>Port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="a00010.html">TCP_ConnectionState_t</a> *, <a class="el" href="a00008.html">TCP_ConnectionBuffer_t</a> *)&#160;</td>
          <td class="paramname"><em>Handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the state and callback handler of the given port, specified in big endian to the given state.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Port</td><td>Port whose state and callback function to set, specified in big endian </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">State</td><td>New state of the port, a value from the <a class="el" href="a00031.html#a25e27db92241172c3518ef8a237a38f6">TCP_PortStates_t</a> enum </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Handler</td><td>Application callback handler for the port</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the port state was set, false otherwise (no more space in the port state table) </dd></dl>

</div>
</div>
<a class="anchor" id="a11249837b77c0f03863a1c375aa9ada6"></a><!-- doxytag: member="TCP.h::TCP_TCPTask" ref="a11249837b77c0f03863a1c375aa9ada6" args="(USB_ClassInfo_RNDIS_Device_t *const RNDISInterfaceInfo, Ethernet_Frame_Info_t *const FrameOUT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCP_TCPTask </td>
          <td>(</td>
          <td class="paramtype">USB_ClassInfo_RNDIS_Device_t *const&#160;</td>
          <td class="paramname"><em>RNDISInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00004.html">Ethernet_Frame_Info_t</a> *const&#160;</td>
          <td class="paramname"><em>FrameOUT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Task to handle the calling of each registered application's callback function, to process and generate TCP packets at the application level. If an application produces a response, this task constructs the appropriate Ethernet frame and places it into the Ethernet OUT buffer for later transmission. </p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00031.html">TCP.h</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
